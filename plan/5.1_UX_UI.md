# 5.1 üé® UX/UI

> **Input**: Design System completado (post `5.0_Design_System.md`)
> **Output**: UI redise√±ada + PWA completa
> **Siguiente**: `6.0_Knowledge_Base.md`

> **‚ö†Ô∏è PREREQUISITO OBLIGATORIO**: Este prompt REQUIERE que `5.0_Design_System.md` haya sido ejecutado previamente.

---

## üìö Documentaci√≥n del Design System (OBLIGATORIO)

Antes de modificar CUALQUIER estilo, debes consultar:

### Documentaci√≥n a consultar (m√≠nima)

- `/docs/16_design_system.md` ‚Äî Tokens, temas, componentes
- `/plan/5.0_Design_System.md` ‚Äî Outputs del DS

### Reglas de uso del Design System

- ‚úÖ TODOS los colores deben usar tokens del DS (no hardcodeados)
- ‚úÖ TODOS los componentes deben usar variantes definidas en el cat√°logo
- ‚úÖ Dark/Light mode deben funcionar correctamente
- ‚úÖ Nuevos componentes deben seguir el patr√≥n del cat√°logo
- ‚ùå NO crear estilos ad-hoc que dupliquen tokens existentes
- ‚ùå NO usar valores hex/rgb directamente (usar tokens)

---

üß† Obligatorio: consultar agentes (ANTES QUE NADA)

ANTES DE CREAR EL PLAN, PROPONER CAMBIOS O ESCRIBIR C√ìDIGO, debes leer y seguir las gu√≠as/roles correspondientes desde estos archivos en la carpeta /agents (en este orden m√≠nimo). Tu primera respuesta debe confirmar expl√≠citamente que ya los consultaste.

üìå Archivos que DEBES consultar para este trabajo

- `/.agent/agents/README.md` (reglas generales y c√≥mo usar los agentes)
- `/.agent/agents/design-system-lead.md` (tokens, temas, componentes ‚Äî **NUEVO**)
- `/.agent/agents/tech-lead.md` (criterios t√©cnicos globales, est√°ndares, decisiones)
- `/.agent/agents/project-architect.md` (arquitectura, estructura del proyecto, l√≠mites de cambios)
- `/.agent/agents/solution-architect-technical.md` (PWA full: manifest, SW, caching, update flow, compatibilidad Next)
- `/.agent/agents/frontend-specialist.md` (Mobile-first, Tailwind, JSX visual sin romper bindings)
- `/.agent/agents/fullstack-engineer.md` (integraci√≥n PWA con app real, fetch/API caching sin romper flujos)
- `/.agent/agents/security-auditor.md` (PWA + SW: seguridad, headers, riesgos, best practices)
- `/.agent/agents/qa-automation-engineer.md` (matriz de pruebas: Android/Chrome, iOS A2HS, offline, update flow, Lighthouse)
- `/.agent/agents/delivery-manager.md` (plan incremental por issues, definici√≥n de ‚ÄúDone‚Äù, dependencias)
- `/.agent/agents/auditor.md` (verificaci√≥n de reglas: no romper l√≥gica, no cambiar props/keys/rutas, cambios permitidos)
- `/.agent/agents/technical-writer.md` (documentaci√≥n m√≠nima: c√≥mo validar PWA, checklist, notas de release)

NO es necesario consultar data-modeler-drizzle.md salvo que el proyecto toque modelos/base de datos (no deber√≠a en este trabajo).

‚úÖ Requisito de salida (obligatorio)

En tu primera respuesta, incluye una secci√≥n al inicio:

‚ÄúAgentes consultados (archivos le√≠dos):‚Äù

Lista los archivos anteriores (por nombre)

‚ÄúReglas clave aplicadas:‚Äù

5‚Äì10 bullets con las restricciones m√°s importantes que vas a respetar (incluyendo PWA + Design System)

---

Quiero que act√∫es como UI/UX Lead Designer especializado en Next.js, TypeScript, TailwindCSS y dise√±o Mobile-First.

Mi aplicaci√≥n ya funciona correctamente; no quiero cambiar l√≥gica ni comportamiento, √∫nicamente mejorar el look & feel para que sea:

Moderno

Elegante

Profesional

C√≥modo e intuitivo

Visualmente limpio

Totalmente optimizado para dispositivos m√≥viles

Este es un proyecto grande, por lo que no debes intentar hacer todo en un solo paso.
Debes crear primero un plan de desarrollo granulado, dividido en issues claros y ejecutables, siguiendo estrictamente lo definido en LINEAR_GUIDE.md, y luego implementar el redise√±o de forma incremental, asegurando que cada issue quede completamente implementado antes de avanzar al siguiente.

No debes dejar trabajo incompleto ni a medias: la implementaci√≥n debe ser total, consistente y cerrada por issue.

üîí Reglas estrictas sobre funcionalidad

No cambies ni elimines nada que pueda afectar el comportamiento actual de la app:

No modificar nombres de funciones, props, estados, rutas o keys.

No cambiar ni reorganizar l√≥gica dentro de componentes.

No eliminar handlers, hooks, eventos o integraciones.

No agregar l√≥gica nueva de negocio.

No romper compatibilidad con Next.js ni TypeScript.

El JSX puede reorganizarse √∫nicamente a nivel visual, manteniendo todos los bindings intactos.

üëâ El redise√±o UX/UI es exclusivamente visual.

üì± Enfoque Mobile-First obligatorio

Tu dise√±o debe:

1Ô∏è‚É£ Optimizar primero la vista m√≥vil (pantallas peque√±as)

Usar TailwindCSS para breakpoints responsivos.

Usar layouts verticales claros, simples y c√≥modos.

Priorizar accesibilidad, legibilidad y facilidad de interacci√≥n.

Aprovechar gestos naturales y micro-interacciones.

Evitar completamente el zoom autom√°tico del navegador al enfocar campos de input en m√≥vil (inputs, selects, textareas).

Garantizar que en vista m√≥vil nunca exista scroll horizontal, incluyendo:

Vistas con tablas

Listados

Contenedores con overflow

Componentes complejos

2Ô∏è‚É£ Escalar progresivamente hacia tablet y desktop

Utilizar breakpoints sm, md, lg, xl de forma limpia y minimalista.

A√±adir refinamientos visuales en pantallas grandes sin romper la estructura m√≥vil.

Mantener consistencia visual y jerarqu√≠a clara en todas las resoluciones.

üé® Puedes modificar libremente

Siempre que no alteres la l√≥gica, puedes modificar:

Clases de Tailwind

Layout visual y distribuci√≥n en el JSX

Paleta de colores

Tipograf√≠as

Espaciado, padding y margin

Sombras, bordes y radios

Animaciones suaves (transition, duration, ease)

Jerarqu√≠a visual

Componentes UI mientras no alteren su l√≥gica interna

üéØ Objetivo del nuevo dise√±o

El resultado final debe sentirse:

Moderno y minimalista

Sofisticado y profesional

Fluido en dispositivos m√≥viles

Muy legible

Limpio y ordenado

Con spacing adecuado

Con navegaci√≥n clara

Con interacci√≥n natural y agradable

üß© Plan de trabajo obligatorio (muy importante)

Dado que se trata de un redise√±o grande:

Debes crear un plan de desarrollo detallado, dividido en issues peque√±os y ejecutables.

Cada issue debe cumplir con la estructura, naming, prioridades y dependencias definidas en LINEAR_GUIDE.md.

El plan debe permitir implementar el redise√±o poco a poco, sin riesgos.

No avances a un issue nuevo hasta que el anterior est√© completamente terminado.

El plan debe cubrir todas las pantallas, componentes y estados relevantes, sin omisiones.

üì≤ PWA ‚Äî Full Implementation (OBLIGATORIO)

Adem√°s del redise√±o UX/UI, debes implementar PWA completa en Next.js, con instalaci√≥n real y comportamiento offline controlado, siguiendo el mismo enfoque incremental por issues y LINEAR_GUIDE.md.

‚úÖ Alcance obligatorio (PWA completa)

Debes entregar una PWA lista para producci√≥n que incluya:

1. Web App Manifest

manifest.webmanifest con:

name, short_name, start_url, scope

display: standalone

background_color, theme_color

icons (incluyendo maskable)

Validaci√≥n con Lighthouse (PWA checklist).

2. Service Worker + Caching Strategy

Implementar service worker (por ejemplo con next-pwa o Workbox) con:

Precaching de assets cr√≠ticos

Runtime caching para:

Navegaci√≥n (pages / app routes)

Assets (js/css/fonts/images)

Requests a APIs (estrategia definida: NetworkFirst / StaleWhileRevalidate / CacheFirst seg√∫n tipo)

Manejo de offline:

P√°gina/estado offline (fallback) para rutas de navegaci√≥n

Fallback de recursos cr√≠ticos

Control de tama√±o y expiraci√≥n de cach√© (evitar cach√©s infinitos).

3. Installability + UX de instalaci√≥n

App instalable en Android/Chrome y soporte para iOS Safari:

apple-touch-icon, meta tags relevantes

mask-icon si aplica

Experiencia coherente con standalone (safe areas, status bar).

4. Update & Versioning Flow

Implementar estrategia de actualizaci√≥n del service worker:

Detectar nueva versi√≥n y refrescar cache

Evitar ‚Äústale UI‚Äù por assets desfasados

Comportamiento definido: auto-update silencioso o banner ‚ÄúUpdate available‚Äù (sin romper flujos).

5. Seguridad & compatibilidad

HTTPS assumptions + headers adecuados para PWA

No romper compatibilidad con Next.js / TypeScript.

üîí Reglas estrictas ajustadas (para permitir PWA sin romper negocio)

Se permite agregar l√≥gica nueva √∫nicamente para PWA (service worker, caching, manifest, install prompts y update flow).

Est√° prohibido cambiar l√≥gica de negocio, flujos, rutas existentes, props, estados o comportamiento funcional de la app.

Si se requiere tocar next.config.js, \_document, layout, metadata, head, middleware o headers, debe hacerse solo por motivos PWA.

‚úÖ Validaci√≥n obligatoria PWA

Debes entregar validaci√≥n expl√≠cita de:

Instalaci√≥n exitosa (Chrome Android y desktop)

iOS: ‚ÄúAdd to Home Screen‚Äù funcional

Lighthouse: PWA + Performance + Best Practices sin errores cr√≠ticos

Offline fallback funcionando

Update flow funcionando (nueva versi√≥n despliega assets correctos)

üì¶ Entregables esperados

Debes entregar:

Plan de desarrollo granulado en issues (seg√∫n LINEAR_GUIDE.md)

Resumen del nuevo dise√±o Mobile-First

Recomendaciones UI/UX por pantalla

Nueva paleta de colores y tipograf√≠as

Sistema visual Mobile-First (principios y patrones)

C√≥digo JSX actualizado solo en estructura visual

TailwindCSS modernizado y optimizado

Patrones responsivos Mobile-First (clases por breakpoint)

Animaciones y micro-interacciones sutiles

Implementaci√≥n PWA completa (manifest + SW + caching + offline + update flow)

Validaci√≥n expl√≠cita de:

‚ùå Sin zoom autom√°tico en inputs en m√≥vil

‚ùå Sin scroll horizontal en vista m√≥vil (incluyendo tablas)

‚úÖ PWA instalable + offline fallback + update flow + Lighthouse OK

üìå Muy importante

Si necesitas mover elementos en el JSX:

Mant√©n intactos props, id, key, onClick, value, estados, handlers, etc.

No rompas workflows ni navegaciones.

Explica cualquier riesgo antes de aplicar cambios.

‚õ≥ Resultado esperado

‚úî UI totalmente redise√±ada
‚úî Implementaci√≥n completa, no parcial
‚úî Optimizada Mobile-First
‚úî Est√©tica moderna y elegante
‚úî Tailwind limpio y responsivo
‚úî PWA full: instalable + offline + update flow + validaci√≥n
‚úî Sin romper absolutamente nada de la l√≥gica de negocio
‚úî Excelente experiencia en m√≥viles y desktop
